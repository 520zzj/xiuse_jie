{"remainingRequest":"C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\src\\components\\speedReg.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\src\\components\\speedReg.vue","mtime":1569862386675},{"path":"C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1564486950657},{"path":"C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\babel-loader\\lib\\index.js","mtime":1564486949725},{"path":"C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1564486950657},{"path":"C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\vue-loader\\lib\\index.js","mtime":1564486976739}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      sex: [\"男\", \"女\"],\n      n: 0,\n      uname: \"\",\n      upwd: \"\",\n      comfUpwd: \"\"\n    };\n  },\n  methods: {\n    //单选按钮点击当前按钮，当前按钮的i值赋值给n，当前按钮必定n==i，：两个元素上都用到同一个方法，当前的n值却只有一个。所以另一个元素n必定不等于i\n    clickCheckbox: function clickCheckbox(i) {\n      this.n = i;\n    },\n    sendAjax: function sendAjax() {\n      var _this = this;\n\n      if (!this.testUname) {\n        this.$toast(\"用户名格式不正确\");\n        return;\n      } else if (!this.testUpwd) {\n        this.$toast(\"密码格式不正确\");\n        return;\n      } else if (!this.testComfUpwd) {\n        this.$toast(\"输入密码不一致\");\n        return;\n      } else {\n        //先发送ajax验证是否占用用户名，如果占用了，则提示占用，没有，则发送ajax注册\n        this.axios.post(\"http://127.0.0.1:7000/mainlogin/regUname\", this.qs.stringify({\n          uname: this.uname\n        })).then(function (res) {\n          console.log(res);\n\n          if (res.data.code == 1) {\n            _this.$toast(\"用户名已占用\");\n          } else {\n            _this.axios.post(\"http://127.0.0.1:7000/mainlogin/register\", _this.qs.stringify({\n              uname: _this.uname,\n              upwd: _this.upwd,\n              sex: _this.getSex\n            })).then(function (res) {\n              if (res.data.code === 1) {\n                _this.$router.push({\n                  path: \"/accountLog\"\n                });\n              }\n            });\n          }\n        });\n      }\n    }\n  },\n  computed: {\n    testUname: function testUname() {\n      //验证用户名\n      //3-10位数字,字母，下划线\n      // var reg=new RegExp(\"^[a-zA-Z0-9_-]{3,10}$\",\"ig\")\n      var reg = new RegExp(\"^\\\\w{3,10}$\");\n      return reg.test(this.uname);\n    },\n    testUpwd: function testUpwd() {\n      //验证密码,6位数字\n      var reg = new RegExp(\"^\\\\d{6}$\");\n      return reg.test(this.upwd);\n    },\n    testComfUpwd: function testComfUpwd() {\n      //验证确认密码\n      return this.upwd === this.comfUpwd ? true : false;\n    },\n    getSex: function getSex() {\n      //获取性别，后台接收0表示女的，1表示男的\n      if (this.n == 0) {\n        return 1;\n      }\n\n      if (this.n == 1) {\n        return 0;\n      }\n    }\n  }\n};",{"version":3,"sources":["speedReg.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,CAAA,GAAA,EAAA,GAAA,CADA;AAEA,MAAA,CAAA,EAAA,CAFA;AAGA,MAAA,KAAA,EAAA,EAHA;AAIA,MAAA,IAAA,EAAA,EAJA;AAKA,MAAA,QAAA,EAAA;AALA,KAAA;AAOA,GATA;AAUA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,aAFA,yBAEA,CAFA,EAEA;AACA,WAAA,CAAA,GAAA,CAAA;AACA,KAJA;AAKA,IAAA,QALA,sBAKA;AAAA;;AACA,UAAA,CAAA,KAAA,SAAA,EAAA;AACA,aAAA,MAAA,CAAA,UAAA;AACA;AACA,OAHA,MAGA,IAAA,CAAA,KAAA,QAAA,EAAA;AACA,aAAA,MAAA,CAAA,SAAA;AACA;AACA,OAHA,MAGA,IAAA,CAAA,KAAA,YAAA,EAAA;AACA,aAAA,MAAA,CAAA,SAAA;AACA;AACA,OAHA,MAGA;AACA;AACA,aAAA,KAAA,CAAA,IAAA,CAAA,0CAAA,EACA,KAAA,EAAA,CAAA,SAAA,CAAA;AACA,UAAA,KAAA,EAAA,KAAA;AADA,SAAA,CADA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,QAAA;AACA,WAFA,MAEA;AACA,YAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,0CAAA,EACA,KAAA,CAAA,EAAA,CAAA,SAAA,CAAA;AACA,cAAA,KAAA,EAAA,KAAA,CAAA,KADA;AAEA,cAAA,IAAA,EAAA,KAAA,CAAA,IAFA;AAGA,cAAA,GAAA,EAAA,KAAA,CAAA;AAHA,aAAA,CADA,EAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,kBAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,CAAA,EAAA;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,IAAA,EAAA;AAAA,iBAAA;AACA;AACA,aAVA;AAWA;AACA,SArBA;AAuBA;AACA;AAzCA,GAVA;AAuDA,EAAA,QAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;AACA;AACA;AACA,UAAA,GAAA,GAAA,IAAA,MAAA,CAAA,aAAA,CAAA;AACA,aAAA,GAAA,CAAA,IAAA,CAAA,KAAA,KAAA,CAAA;AACA,KANA;AAOA,IAAA,QAPA,sBAOA;AAAA;AACA,UAAA,GAAA,GAAA,IAAA,MAAA,CAAA,UAAA,CAAA;AACA,aAAA,GAAA,CAAA,IAAA,CAAA,KAAA,IAAA,CAAA;AACA,KAVA;AAWA,IAAA,YAXA,0BAWA;AAAA;AACA,aAAA,KAAA,IAAA,KAAA,KAAA,QAAA,GAAA,IAAA,GAAA,KAAA;AACA,KAbA;AAcA,IAAA,MAdA,oBAcA;AAAA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,EAAA;AAAA,eAAA,CAAA;AAAA;;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,EAAA;AAAA,eAAA,CAAA;AAAA;AACA;AAjBA;AAvDA,CAAA","sourcesContent":["<template>\r\n    <div class=\"speedReg\">\r\n        <mt-header title=\"快速注册\">\r\n            <router-link to=\"/mainlogin\" slot=\"left\">\r\n                <mt-button icon=\"back\"></mt-button>\r\n            </router-link>\r\n        </mt-header>\r\n        <form class=\"mui-input-group\">\r\n            <div class=\"mui-input-row\">\r\n                <label>用户名</label>\r\n                <input type=\"text\" placeholder=\"3-10位数字、字母或下划线\" v-model=\"uname\" v-focus>\r\n            </div>\r\n           <div class=\"mui-input-row\">\r\n                <label>密码</label>\r\n                <input type=\"password\" placeholder=\"6位数字\" v-model=\"upwd\">\r\n            </div>\r\n             <div class=\"mui-input-row\">\r\n                <label>确认密码</label>\r\n                <input type=\"password\" placeholder=\"请输入验证密码\" class=\"iptCode\" v-model=\"comfUpwd\">\r\n                <!-- <span class=\"getcode\">获取验证码</span> -->\r\n            </div>\r\n            <div class=\"gender mui-input-row\"> \r\n                <label>性别</label>\r\n                <span class=\"item\" :class=\"{checked:n==i}\" v-for=\"(elem,i) of sex\" :key=\"i\" @click=\"clickCheckbox(i)\">{{elem}}</span>\r\n            </div>\r\n            <div class=\"sexTip\">性别注册后不能修改</div>\r\n             <div class=\"mui-input-row\">\r\n                <label>邀请码</label>\r\n                <input type=\"text\" placeholder=\"请输入邀请码（可选）\">\r\n            </div>\r\n\t\t</form>\r\n        <p class=\"codeTip\">填写邀请码可获得平台赠送的奖励</p>\r\n        <div class=\"next\">\r\n            <button type=\"button\" class=\"mui-btn mui-btn-success mui-btn-block\" @click=\"sendAjax\">下一步</button>\r\n        </div>\r\n        <div class=\"mui-input-row mui-checkbox mui-left\">\r\n            <label class=\"server\">注册即表示阅读并同意<a href=\"\">秀色服务条款</a></label>\r\n            <input name=\"checkbox\" value=\"Item 2\" type=\"checkbox\" checked=\"\">\r\n        </div>\r\n    </div>    \r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n            sex:[\"男\",\"女\"],\r\n            n:0,\r\n            uname:\"\",\r\n            upwd:\"\",\r\n            comfUpwd:\"\"\r\n        }\r\n    },\r\n    methods:{\r\n        //单选按钮点击当前按钮，当前按钮的i值赋值给n，当前按钮必定n==i，：两个元素上都用到同一个方法，当前的n值却只有一个。所以另一个元素n必定不等于i\r\n        clickCheckbox(i){\r\n            this.n=i\r\n        },\r\n        sendAjax(){\r\n            if(!this.testUname){\r\n                this.$toast(\"用户名格式不正确\")\r\n                return;\r\n            }else if(!this.testUpwd){\r\n                this.$toast(\"密码格式不正确\")\r\n                return;\r\n            }else if(!this.testComfUpwd){\r\n                this.$toast(\"输入密码不一致\")\r\n                return;\r\n            }else{\r\n                //先发送ajax验证是否占用用户名，如果占用了，则提示占用，没有，则发送ajax注册\r\n                this.axios.post(\"http://127.0.0.1:7000/mainlogin/regUname\",\r\n                    this.qs.stringify({\r\n                        uname:this.uname\r\n                    })\r\n                    ).then(res=>{\r\n                        console.log(res)\r\n                        if(res.data.code==1){\r\n                            this.$toast(\"用户名已占用\")\r\n                        }else{\r\n                            this.axios.post(\"http://127.0.0.1:7000/mainlogin/register\",\r\n                            this.qs.stringify({\r\n                                uname:this.uname,\r\n                                upwd:this.upwd,\r\n                                sex:this.getSex\r\n                            })\r\n                            ).then(res=>{\r\n                                if(res.data.code===1){\r\n                                    this.$router.push({path:\"/accountLog\"})\r\n                                }\r\n                            })\r\n                        }\r\n                    })\r\n                \r\n            }\r\n        },\r\n      \r\n        \r\n    },\r\n    computed:{\r\n        testUname(){//验证用户名\r\n        //3-10位数字,字母，下划线\r\n            // var reg=new RegExp(\"^[a-zA-Z0-9_-]{3,10}$\",\"ig\")\r\n            var reg=new RegExp(\"^\\\\w{3,10}$\")\r\n            return reg.test(this.uname)\r\n        },\r\n        testUpwd(){//验证密码,6位数字\r\n            var reg=new RegExp(\"^\\\\d{6}$\")\r\n            return reg.test(this.upwd)\r\n        },\r\n        testComfUpwd(){//验证确认密码\r\n            return this.upwd===this.comfUpwd?true:false\r\n        },\r\n        getSex(){//获取性别，后台接收0表示女的，1表示男的\r\n            if(this.n==0){return 1}\r\n            if(this.n==1){return 0}\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n.speedReg .mui-input-group{\r\n    font-size: 14px;\r\n    margin-top:12px;\r\n}\r\n.speedReg .mintui-back:before{\r\n    color:red;\r\n}\r\n.speedReg .mint-header{\r\n    color:black;\r\n    background: #ffffff;\r\n    border-bottom: 1px solid gray;\r\n}\r\n.speedReg .mui-input-row label ~ input{\r\n    font-size: 14px;\r\n    float: none;\r\n}\r\n.speedReg .mui-input-row label{\r\n    width:25%;\r\n}\r\n.speedReg .mui-input-row .iptCode{\r\n    width:40%;\r\n}\r\n/* .phoneReg .mui-input-row .getcode{\r\n    width:22%;\r\n    height: 28px;\r\n    top:50%;\r\n    position: absolute;\r\n    transform: translateY(-50%);\r\n    padding: 2px 4px;\r\n    border-radius: 20px;\r\n    font-size: 12px;\r\n    text-align: center;\r\n    background: #65A3F6;\r\n    color:#ffffff;\r\n    right:10px;\r\n    line-height: 26px;\r\n} */\r\n.speedReg .gender .item{\r\n    padding:5px 23px;\r\n    border:1px solid gray;\r\n    border-radius: 20px;\r\n    top:50%;\r\n    position: absolute;\r\n    transform: translateY(-50%);\r\n}\r\n.speedReg .gender .item:first-child{\r\n    left:25%;\r\n}\r\n.speedReg .gender .item:last-child{\r\n    left:50%;\r\n}\r\n/* 性别选中时的样式 */\r\n.speedReg .gender span.checked{\r\n    background: #FD526F;\r\n    color:#ffffff;\r\n    border:none;\r\n}\r\n.speedReg .mui-input-group .sexTip{\r\n    height:30px;\r\n    line-height: 30px;\r\n    background-color: #EFEFF4;\r\n    padding-left:15px;\r\n}\r\n.speedReg .mui-input-row .server{\r\n    width: 100%;\r\n    font-size: 14px;\r\n}\r\n.speedReg .next{\r\n    padding:0px 15px;\r\n}\r\n.speedReg .next .mui-btn-success{\r\n    border-radius: 40px;\r\n}\r\n.speedReg .codeTip{\r\n    padding-left:15px;\r\n}\r\n</style>\r\n\r\n"],"sourceRoot":"src/components"}]}