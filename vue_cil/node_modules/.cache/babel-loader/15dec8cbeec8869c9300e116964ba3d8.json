{"remainingRequest":"C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\src\\components\\square.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\src\\components\\square.vue","mtime":1564567315710},{"path":"C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1563343078629},{"path":"C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\babel-loader\\lib\\index.js","mtime":1563343078283},{"path":"C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1563343078629},{"path":"C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\vue-loader\\lib\\index.js","mtime":1563343093614}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// 轮播组件: https://github.com/surmon-china/vue-awesome-swiper\nimport 'swiper/dist/css/swiper.css';\nimport { swiper, swiperSlide } from 'vue-awesome-swiper'; // 引入mescroll的vue组件\n\nimport MescrollVue from 'mescroll.js/mescroll.vue'; // 模拟数据\n\nimport mockData from \"../mock/pdlist\";\nexport default {\n  name: 'mescrollSwiperNav',\n  data: function data() {\n    var _this = this;\n\n    return {\n      tabs: [{\n        name: '首页',\n        mescroll: null,\n        list: [],\n        isListInit: false\n      }, {\n        name: '奶粉',\n        mescroll: null,\n        list: [],\n        isListInit: false\n      }, {\n        name: '面膜',\n        mescroll: null,\n        list: [],\n        isListInit: false\n      }, {\n        name: '图书',\n        mescroll: null,\n        list: [],\n        isListInit: false\n      }, {\n        name: '果汁',\n        mescroll: null,\n        list: [],\n        isListInit: false\n      }, {\n        name: '奶瓶',\n        mescroll: null,\n        list: [],\n        isListInit: false\n      }, {\n        name: '美素',\n        mescroll: null,\n        list: [],\n        isListInit: false\n      }, {\n        name: '璐拉',\n        mescroll: null,\n        list: [],\n        isListInit: false\n      }, {\n        name: '启赋',\n        mescroll: null,\n        list: [],\n        isListInit: false\n      }, {\n        name: '雅培',\n        mescroll: null,\n        list: [],\n        isListInit: false\n      }, {\n        name: '花王',\n        mescroll: null,\n        list: [],\n        isListInit: false\n      }, {\n        name: '韩蜜',\n        mescroll: null,\n        list: [],\n        isListInit: false\n      }],\n      tabWidth: 60,\n      // 每个tab的宽度\n      barWidth: 30,\n      // tab底部红色线的宽度\n      curIndex: 0,\n      // 当前tab的下标\n      tabScrollLeft: 0,\n      // 菜单滚动条的位置\n      swiperOption: {\n        // 轮播配置\n        on: {\n          transitionEnd: function transitionEnd() {\n            _this.changeTab(_this.swiper.activeIndex);\n          }\n        }\n      }\n    };\n  },\n  components: {\n    swiper: swiper,\n    // 轮播组件\n    swiperSlide: swiperSlide,\n    // 轮播组件\n    MescrollVue: MescrollVue // Mescroll组件\n\n  },\n  computed: {\n    swiper: function swiper() {\n      // 轮播对象\n      console.log(this.$refs.mySwiper.swiper);\n      return this.$refs.mySwiper.swiper;\n    },\n    barLeft: function barLeft() {\n      // 红线的位置\n      return this.tabWidth * this.curIndex + (this.tabWidth - this.barWidth) / 2 + 'px';\n    }\n  },\n  methods: {\n    // 多mescroll的配置,需通过方法获取,保证每个配置是单例\n    getMescrollDown: function getMescrollDown(tabIndex) {\n      var isAuto = tabIndex === 0; // 第一个mescroll传入true,列表自动加载\n\n      return {\n        auto: isAuto,\n        callback: this.downCallback\n      };\n    },\n    // mescroll上拉加载的配置\n    getMescrollUp: function getMescrollUp(tabIndex) {\n      var emptyWarpId = 'dataList' + tabIndex;\n      return {\n        auto: false,\n        callback: this.upCallback,\n        // 上拉回调,此处可简写; 相当于 callback: function (page) { upCallback(page); }\n        noMoreSize: 4,\n        // 如果列表已无数据,可设置列表的总数量要大于半页才显示无更多数据;避免列表数据过少(比如只有一条数据),显示无更多数据会不好看; 默认5\n        empty: {\n          warpId: emptyWarpId,\n          // 父布局的id;\n          icon: 'http://www.mescroll.com/img/mescroll-empty.png',\n          // 图标,默认null\n          tip: '暂无相关数据~',\n          // 提示\n          btntext: '去逛逛 >',\n          // 按钮,默认\"\"\n          btnClick: function btnClick() {\n            // 点击按钮的回调,默认null\n            alert('点击了按钮,具体逻辑自行实现');\n          }\n        },\n        toTop: {\n          // 配置回到顶部按钮\n          src: 'http://www.mescroll.com/img/mescroll-totop.png' // 图片路径,默认null (建议写成网络图,不必考虑相对路径)\n\n        }\n      };\n    },\n    // mescroll初始化的回调\n    mescrollInit: function mescrollInit(tabIndex, arg) {\n      this.tabs[tabIndex].mescroll = arg[0]; // 传入mescroll对象\n\n      this.tabs[tabIndex].mescroll.tabIndex = tabIndex; // 加入标记,便于在回调中取到对应的list\n    },\n    // 切换菜单\n    changeTab: function changeTab(tabIndex) {\n      if (this.curIndex === tabIndex) return; // 避免重复调用\n\n      var curTab = this.tabs[this.curIndex]; // 当前列表\n\n      var newTab = this.tabs[tabIndex]; // 新转换的列表\n\n      curTab.mescroll && curTab.mescroll.hideTopBtn(); // 隐藏当前列表的回到顶部按钮\n\n      this.curIndex = tabIndex; // 切换菜单\n\n      this.swiper.slideTo(tabIndex); // 菜单项居中动画\n\n      if (curTab.mescroll) {\n        var tabsContent = this.$refs.tabsContent;\n        var tabDom = tabsContent.getElementsByClassName('tab')[tabIndex];\n        var star = tabsContent.scrollLeft; // 当前位置\n\n        var end = tabDom.offsetLeft + tabDom.clientWidth / 2 - document.body.clientWidth / 2; // 居中\n\n        this.tabScrollLeft = end;\n        curTab.mescroll.getStep(star, end, function (step) {\n          tabsContent.scrollLeft = step; // 从当前位置逐渐移动到中间位置,默认时长300ms\n        });\n      }\n\n      if (newTab.mescroll) {\n        if (!newTab.isListInit) {\n          // 加载列表\n          newTab.mescroll.triggerDownScroll();\n        } else {\n          // 检查新转换的列表是否需要显示回到到顶按钮\n          setTimeout(function () {\n            var curScrollTop = newTab.mescroll.getScrollTop();\n\n            if (curScrollTop >= newTab.mescroll.optUp.toTop.offset) {\n              newTab.mescroll.showTopBtn();\n            } else {\n              newTab.mescroll.hideTopBtn();\n            }\n          }, 30);\n        }\n      }\n    },\n\n    /* 下拉刷新的回调 */\n    downCallback: function downCallback(mescroll) {\n      // 这里加载你想下拉刷新的数据, 比如刷新tab1的轮播数据\n      if (mescroll.tabIndex === 0) {// loadSwiper();\n      } else if (mescroll.tabIndex === 1) {// ....\n      } else if (mescroll.tabIndex === 2) {// ....\n      }\n\n      mescroll.resetUpScroll(); // 触发下拉刷新的回调,加载第一页的数据\n    },\n\n    /* 上拉加载的回调 page = {num:1, size:10}; num:当前页 从1开始, size:每页数据条数 */\n    upCallback: function upCallback(page, mescroll) {\n      var _this2 = this;\n\n      // if (mescroll.tabType === 0) {\n      //   // 可以单独处理每个tab的请求\n      // }else if (mescroll.tabType === 1) {\n      //   // 可以单独处理每个tab的请求\n      // }\n      this.axios.get('http://127.0.0.1:7000/square/hall', {\n        params: {\n          num: 1,\n          // 页码\n          size: 10 // 每页长度\n\n        }\n      }).then(function (response) {\n        // 请求的列表数据\n        console.log(response);\n        var arr = response.data; // 如果是第一页需手动置空列表\n\n        if (page.num === 1) _this2.dataList = []; // 把请求到的数据添加到列表\n\n        _this2.dataList = _this2.dataList.concat(arr); // 数据渲染成功后,隐藏下拉刷新的状态\n\n        _this2.$nextTick(function () {\n          mescroll.endSuccess(arr.length);\n        });\n      }).catch(function (e) {\n        // 联网失败的回调,隐藏下拉刷新和上拉加载的状态;\n        mescroll.endErr();\n      });\n      this.tabs[mescroll.tabIndex].isListInit = true; // 标记列表已初始化,保证列表只初始化一次\n      //   this.getListDataFromNet(mescroll.tabIndex, page.num, page.size, (curPageData) => {\n      //     mescroll.endSuccess(curPageData.length);// 联网成功的回调,隐藏下拉刷新和上拉加载的状态;\n      //     if (page.num === 1) this.tabs[mescroll.tabIndex].list = []; // 如果是第一页需手动制空列表\n      //     this.tabs[mescroll.tabIndex].list = this.tabs[mescroll.tabIndex].list.concat(curPageData); // 追加新数据\n      //   }, () => {\n      //     if (page.num === 1) this.tabs[mescroll.tabIndex].isListInit = false;\n      //     mescroll.endErr();// 联网失败的回调,隐藏下拉刷新的状态\n      //   })\n    }\n  },\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    // 如果没有配置回到顶部按钮或isBounce,则beforeRouteEnter不用写\n    next(function (vm) {\n      var curMescroll = vm.$refs['mescroll' + vm.curIndex]; // 找到当前mescroll的ref,调用子组件mescroll-vue的beforeRouteEnter方法\n\n      curMescroll && curMescroll.beforeRouteEnter(); // 进入路由时,滚动到原来的列表位置,恢复回到顶部按钮和isBounce的配置\n      // 恢复水平菜单的滚动条位置\n\n      if (vm.$refs.tabsContent) vm.$refs.tabsContent.scrollLeft = vm.tabScrollLeft;\n    });\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    // 如果没有配置回到顶部按钮或isBounce,则beforeRouteLeave不用写\n    var curMescroll = this.$refs['mescroll' + this.curIndex]; // 找到当前mescroll的ref,调用子组件mescroll-vue的beforeRouteEnter方法\n\n    curMescroll && curMescroll.beforeRouteLeave(); // 退出路由时,记录列表滚动的位置,隐藏回到顶部按钮和isBounce的配置\n\n    next();\n  }\n};",{"version":3,"sources":["square.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <!--标题-->\r\n    <div class=\"header\">\r\n        <div class=\"header-box\">\r\n            <div class=\"moving\">\r\n                <a href=\"\"> <img src=\"http://127.0.0.1:7000/img/hall_new_trends_white.png\" alt=\"\" class=\"headImg\"></a>\r\n            </div>\r\n      <!--菜单. 如果up配置了isBounce为false,则需加上mescroll-touch-x,原因: http://www.mescroll.com/qa.html#q10 -->\r\n            <div class=\"tabs-warp\">\r\n                <div ref=\"tabsContent\" class=\"tabs-content mescroll-touch-x\">\r\n                    <div style=\"display: inline-block\"> <!--PC端运行,加上这个div可修复tab-bar错位的问题 -->\r\n                    <ul class=\"tabs\" ref=\"tabs\">\r\n                        <li class=\"tab\" v-for=\"(tab,i) in tabs\" :class=\"{active: i===curIndex}\" :style=\"{width: tabWidth+'px'}\" :key=\"i\" @click=\"changeTab(i)\">{{tab.name}}</li>\r\n                    </ul>\r\n                    <div class=\"tab-bar\" :style=\"{width: barWidth+'px', left: barLeft}\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"search\">\r\n                <a href=\"\"><img src=\"http://127.0.0.1:7000/img/hall_search_white.png\" alt=\"\" class=\"headImg\"></a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!--轮播-->\r\n    <swiper ref=\"mySwiper\" :options=\"swiperOption\">\r\n      <!--首页-->\r\n      <swiper-slide>\r\n        <mescroll-vue ref=\"mescroll0\" :down=\"getMescrollDown(0)\" :up=\"getMescrollUp(0)\" @init=\"mescrollInit(0,arguments)\">\r\n          <div class=\"hall\" id=\"dataList0\">\r\n            <div class=\"banner\">\r\n                <mt-swipe :auto=\"5000\" :continuous=\"true\">\r\n                    <mt-swipe-item>\r\n                        <img src=\"//127.0.0.1:7000/img/01ed6558f5c863a8012049efb6f345.jpg@2o.jpg\" alt=\"\">\r\n                    </mt-swipe-item>\r\n                    <mt-swipe-item>\r\n                        <img src=\"//127.0.0.1:7000/img/01356d554337fd0000019ae9ceb332.jpg@2o.jpg\" alt=\"\">\r\n                    </mt-swipe-item>\r\n                    <mt-swipe-item>\r\n                        <img src=\"//127.0.0.1:7000/img/01f7a95543380c0000019ae9819de6.jpg@2o.jpg\" alt=\"\">\r\n                    </mt-swipe-item>\r\n                </mt-swipe>\r\n            </div>\r\n            <div class=\"imgList\">\r\n                <div class=\"recommend container\">\r\n                    <div class=\"reLeftBox\">\r\n                        <div class=\"inCon\">\r\n                            <a href=\"\" class=\"link\">\r\n                                <img src=\"//127.0.0.1:7000/img/b127f14ce1_250_350.jpg\" alt=\"\">\r\n                                <div class=\"perInfo\">\r\n                                    <div class=\"achievement\">\r\n                                        <img src=\"//127.0.0.1:7000/img/red_packet_gf5.png\" alt=\"\">\r\n                                        <img src=\"//127.0.0.1:7000/img/friend_dp_all.png\" alt=\"\">\r\n                                    </div>\r\n                                    <p class=\"sign\">放开那个女孩</p>\r\n                                    <div class=\"watchNum\">\r\n                                        <img src=\"//127.0.0.1:7000/img/home_me_unselected.png\" alt=\"\">\r\n                                        <span>1000</span>\r\n                                    </div>\r\n                                </div>\r\n                            </a>  \r\n                        </div>    \r\n                    </div>\r\n                    <div class=\"reRightBox\">\r\n                        <div class=\"imgbox\">\r\n                            <a href=\"\" class=\"link noPadLeft\">\r\n                                    <img src=\"//127.0.0.1:7000/img/f283fbb284_250_350.jpg\" alt=\"\">\r\n                                    <div class=\"perInfo\">\r\n                                        <div class=\"achievement\">\r\n                                            <img src=\"//127.0.0.1:7000/img/red_packet_gf5.png\" alt=\"\">\r\n                                            <img src=\"//127.0.0.1:7000/img/friend_dp_all.png\" alt=\"\">\r\n                                        </div>\r\n                                        <p class=\"sign\">放开那个女孩</p>\r\n                                        <div class=\"watchNum\">\r\n                                            <img src=\"//127.0.0.1:7000/img/home_me_unselected.png\" alt=\"\">\r\n                                            <span>1000</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </a>\r\n                        </div>\r\n                        <div class=\"imgbox\">\r\n                            <a href=\"\" class=\"link noPadLeft\">\r\n                                    <img src=\"//127.0.0.1:7000/img/69ded6a598_250_350.jpg\" alt=\"\">\r\n                                    <div class=\"perInfo\">\r\n                                        <div class=\"achievement\">\r\n                                            <img src=\"//127.0.0.1:7000/img/red_packet_gf5.png\" alt=\"\">\r\n                                            <img src=\"//127.0.0.1:7000/img/friend_dp_all.png\" alt=\"\">\r\n                                        </div>\r\n                                        <p class=\"sign\">放开那个女孩</p>\r\n                                        <div class=\"watchNum\">\r\n                                            <img src=\"//127.0.0.1:7000/img/home_me_unselected.png\" alt=\"\">\r\n                                            <span>1000</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </a>\r\n                        </div>\r\n                    </div>\r\n                \r\n                </div>\r\n                <div class=\"floor\">\r\n                    <div class=\"sort\">\r\n                        <img src=\"//127.0.0.1:7000/img/hall_anchor_classfy_bar.png\" alt=\"\">\r\n                        <span>甜美主播</span>\r\n                    </div>\r\n                    <div class=\"floorImgList container\">\r\n                        <div class=\"listItem\">\r\n                            <div class=\"inCon\">\r\n                                <a href=\"\" class=\"link\">\r\n                                    <img src=\"//127.0.0.1:7000/img/b127f14ce1_250_350.jpg\" alt=\"\">\r\n                                    <div class=\"perInfo\">\r\n                                        <div class=\"achievement\">\r\n                                            <img src=\"//127.0.0.1:7000/img/red_packet_gf5.png\" alt=\"\">\r\n                                            <img src=\"//127.0.0.1:7000/img/friend_dp_all.png\" alt=\"\">\r\n                                        </div>\r\n                                        <p class=\"sign\">放开那个女孩</p>\r\n                                        <div class=\"watchNum\">\r\n                                            <img src=\"//127.0.0.1:7000/img/home_me_unselected.png\" alt=\"\">\r\n                                            <span>1000</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </a>  \r\n                            </div>    \r\n                        </div>\r\n                        <div class=\"listItem\">\r\n                            <div class=\"inCon\">\r\n                                <a href=\"\" class=\"link\">\r\n                                    <img src=\"//127.0.0.1:7000/img/b127f14ce1_250_350.jpg\" alt=\"\">\r\n                                    <p class=\"perInfo\">zuo</p>\r\n                                </a>  \r\n                            </div>    \r\n                        </div>\r\n                        <div class=\"listItem\">\r\n                            <div class=\"inCon\">\r\n                                <a href=\"\" class=\"link\">\r\n                                    <img src=\"//127.0.0.1:7000/img/b127f14ce1_250_350.jpg\" alt=\"\">\r\n                                    <p class=\"perInfo\">zuo</p>\r\n                                </a>  \r\n                            </div>    \r\n                        </div>\r\n                        <div class=\"listItem\">\r\n                            <div class=\"inCon\">\r\n                                <a href=\"\" class=\"link\">\r\n                                    <img src=\"//127.0.0.1:7000/img/b127f14ce1_250_350.jpg\" alt=\"\">\r\n                                    <p class=\"perInfo\">zuo</p>\r\n                                </a>  \r\n                            </div>    \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            \r\n            </div>\r\n        </div>\r\n        </mescroll-vue>\r\n      </swiper-slide>\r\n      <!-- 奶粉 可不配down-->\r\n      <swiper-slide>\r\n        <mescroll-vue ref=\"mescroll1\" :up=\"getMescrollUp(1)\" @init=\"mescrollInit(1,arguments)\">\r\n          <ul id=\"dataList1\">\r\n            <li class=\"data-li\" v-for=\"pd in tabs[1].list\" :key=\"pd.id\">\r\n              <img class=\"pd-img\" :src=\"pd.pdImg\"/>\r\n              <div class=\"pd-name\">{{pd.pdName}}</div>\r\n              <p class=\"pd-price\">{{pd.pdPrice}} 元</p>\r\n              <p class=\"pd-sold\">已售{{pd.pdSold}}件</p>\r\n            </li>\r\n          </ul>\r\n        </mescroll-vue>\r\n      </swiper-slide>\r\n      <!-- 面膜-->\r\n      <swiper-slide>\r\n        <mescroll-vue ref=\"mescroll2\" :up=\"getMescrollUp(2)\" @init=\"mescrollInit(2,arguments)\">\r\n          <ul id=\"dataList2\">\r\n            <li class=\"data-li\" v-for=\"pd in tabs[2].list\" :key=\"pd.id\">\r\n              <img class=\"pd-img\" :src=\"pd.pdImg\"/>\r\n              <div class=\"pd-name\">{{pd.pdName}}</div>\r\n              <p class=\"pd-price\">{{pd.pdPrice}} 元</p>\r\n              <p class=\"pd-sold\">已售{{pd.pdSold}}件</p>\r\n            </li>\r\n          </ul>\r\n        </mescroll-vue>\r\n      </swiper-slide>\r\n      <!-- 图书-->\r\n      <swiper-slide>\r\n        <mescroll-vue ref=\"mescroll3\" :up=\"getMescrollUp(3)\" @init=\"mescrollInit(3,arguments)\">\r\n          <ul id=\"dataList3\">\r\n            <li class=\"data-li\" v-for=\"pd in tabs[3].list\" :key=\"pd.id\">\r\n              <img class=\"pd-img\" :src=\"pd.pdImg\"/>\r\n              <div class=\"pd-name\">{{pd.pdName}}</div>\r\n              <p class=\"pd-price\">{{pd.pdPrice}} 元</p>\r\n              <p class=\"pd-sold\">已售{{pd.pdSold}}件</p>\r\n            </li>\r\n          </ul>\r\n        </mescroll-vue>\r\n      </swiper-slide>\r\n      <!-- 果汁-->\r\n      <swiper-slide>\r\n        <mescroll-vue ref=\"mescroll4\" :up=\"getMescrollUp(4)\" @init=\"mescrollInit(4,arguments)\">\r\n          <ul id=\"dataList4\">\r\n            <li class=\"data-li\" v-for=\"pd in tabs[4].list\" :key=\"pd.id\">\r\n              <img class=\"pd-img\" :src=\"pd.pdImg\"/>\r\n              <div class=\"pd-name\">{{pd.pdName}}</div>\r\n              <p class=\"pd-price\">{{pd.pdPrice}} 元</p>\r\n              <p class=\"pd-sold\">已售{{pd.pdSold}}件</p>\r\n            </li>\r\n          </ul>\r\n        </mescroll-vue>\r\n      </swiper-slide>\r\n      <!-- 奶瓶-->\r\n      <swiper-slide>\r\n        <mescroll-vue ref=\"mescroll5\" :up=\"getMescrollUp(5)\" @init=\"mescrollInit(5,arguments)\">\r\n          <ul id=\"dataList5\">\r\n            <li class=\"data-li\" v-for=\"pd in tabs[5].list\" :key=\"pd.id\">\r\n              <img class=\"pd-img\" :src=\"pd.pdImg\"/>\r\n              <div class=\"pd-name\">{{pd.pdName}}</div>\r\n              <p class=\"pd-price\">{{pd.pdPrice}} 元</p>\r\n              <p class=\"pd-sold\">已售{{pd.pdSold}}件</p>\r\n            </li>\r\n          </ul>\r\n        </mescroll-vue>\r\n      </swiper-slide>\r\n      <!-- 美素-->\r\n      <swiper-slide>\r\n        <mescroll-vue ref=\"mescroll6\" :up=\"getMescrollUp(6)\" @init=\"mescrollInit(6,arguments)\">\r\n          <ul id=\"dataList6\">\r\n            <li class=\"data-li\" v-for=\"pd in tabs[6].list\" :key=\"pd.id\">\r\n              <img class=\"pd-img\" :src=\"pd.pdImg\"/>\r\n              <div class=\"pd-name\">{{pd.pdName}}</div>\r\n              <p class=\"pd-price\">{{pd.pdPrice}} 元</p>\r\n              <p class=\"pd-sold\">已售{{pd.pdSold}}件</p>\r\n            </li>\r\n          </ul>\r\n        </mescroll-vue>\r\n      </swiper-slide>\r\n      <!-- 璐拉-->\r\n      <swiper-slide>\r\n        <mescroll-vue ref=\"mescroll7\" :up=\"getMescrollUp(7)\" @init=\"mescrollInit(7,arguments)\">\r\n          <ul id=\"dataList7\">\r\n            <li class=\"data-li\" v-for=\"pd in tabs[7].list\" :key=\"pd.id\">\r\n              <img class=\"pd-img\" :src=\"pd.pdImg\"/>\r\n              <div class=\"pd-name\">{{pd.pdName}}</div>\r\n              <p class=\"pd-price\">{{pd.pdPrice}} 元</p>\r\n              <p class=\"pd-sold\">已售{{pd.pdSold}}件</p>\r\n            </li>\r\n          </ul>\r\n        </mescroll-vue>\r\n      </swiper-slide>\r\n      <!-- 启赋-->\r\n      <swiper-slide>\r\n        <mescroll-vue ref=\"mescroll8\" :up=\"getMescrollUp(8)\" @init=\"mescrollInit(8,arguments)\">\r\n          <ul id=\"dataList8\">\r\n            <li class=\"data-li\" v-for=\"pd in tabs[8].list\" :key=\"pd.id\">\r\n              <img class=\"pd-img\" :src=\"pd.pdImg\"/>\r\n              <div class=\"pd-name\">{{pd.pdName}}</div>\r\n              <p class=\"pd-price\">{{pd.pdPrice}} 元</p>\r\n              <p class=\"pd-sold\">已售{{pd.pdSold}}件</p>\r\n            </li>\r\n          </ul>\r\n        </mescroll-vue>\r\n      </swiper-slide>\r\n      <!-- 雅培-->\r\n      <swiper-slide>\r\n        <mescroll-vue ref=\"mescroll9\" :up=\"getMescrollUp(9)\" @init=\"mescrollInit(9,arguments)\">\r\n          <ul id=\"dataList9\">\r\n            <li class=\"data-li\" v-for=\"pd in tabs[9].list\" :key=\"pd.id\">\r\n              <img class=\"pd-img\" :src=\"pd.pdImg\"/>\r\n              <div class=\"pd-name\">{{pd.pdName}}</div>\r\n              <p class=\"pd-price\">{{pd.pdPrice}} 元</p>\r\n              <p class=\"pd-sold\">已售{{pd.pdSold}}件</p>\r\n            </li>\r\n          </ul>\r\n        </mescroll-vue>\r\n      </swiper-slide>\r\n      <!-- 花王-->\r\n      <swiper-slide>\r\n        <mescroll-vue ref=\"mescroll10\" :up=\"getMescrollUp(10)\" @init=\"mescrollInit(10,arguments)\">\r\n          <ul id=\"dataList10\">\r\n            <li class=\"data-li\" v-for=\"pd in tabs[10].list\" :key=\"pd.id\">\r\n              <img class=\"pd-img\" :src=\"pd.pdImg\"/>\r\n              <div class=\"pd-name\">{{pd.pdName}}</div>\r\n              <p class=\"pd-price\">{{pd.pdPrice}} 元</p>\r\n              <p class=\"pd-sold\">已售{{pd.pdSold}}件</p>\r\n            </li>\r\n          </ul>\r\n        </mescroll-vue>\r\n      </swiper-slide>\r\n      <!-- 韩蜜-->\r\n      <swiper-slide>\r\n        <mescroll-vue ref=\"mescroll11\" :up=\"getMescrollUp(11)\" @init=\"mescrollInit(11,arguments)\">\r\n          <ul id=\"dataList11\">\r\n            <li class=\"data-li\" v-for=\"pd in tabs[11].list\" :key=\"pd.id\">\r\n              <img class=\"pd-img\" :src=\"pd.pdImg\"/>\r\n              <div class=\"pd-name\">{{pd.pdName}}</div>\r\n              <p class=\"pd-price\">{{pd.pdPrice}} 元</p>\r\n              <p class=\"pd-sold\">已售{{pd.pdSold}}件</p>\r\n            </li>\r\n          </ul>\r\n        </mescroll-vue>\r\n      </swiper-slide>\r\n    </swiper>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 轮播组件: https://github.com/surmon-china/vue-awesome-swiper\r\nimport 'swiper/dist/css/swiper.css'\r\nimport { swiper, swiperSlide } from 'vue-awesome-swiper'\r\n// 引入mescroll的vue组件\r\nimport MescrollVue from 'mescroll.js/mescroll.vue'\r\n// 模拟数据\r\nimport mockData from '../mock/pdlist'\r\n\r\nexport default {\r\n  name: 'mescrollSwiperNav',\r\n  data () { \r\n    return {\r\n      tabs: [{name: '首页', mescroll: null, list: [], isListInit: false}, {name: '奶粉', mescroll: null, list: [], isListInit: false}, {name: '面膜', mescroll: null, list: [], isListInit: false}, {name: '图书', mescroll: null, list: [], isListInit: false}, {name: '果汁', mescroll: null, list: [], isListInit: false}, {name: '奶瓶', mescroll: null, list: [], isListInit: false}, {name: '美素', mescroll: null, list: [], isListInit: false}, {name: '璐拉', mescroll: null, list: [], isListInit: false}, {name: '启赋', mescroll: null, list: [], isListInit: false}, {name: '雅培', mescroll: null, list: [], isListInit: false}, {name: '花王', mescroll: null, list: [], isListInit: false}, {name: '韩蜜', mescroll: null, list: [], isListInit: false}],\r\n      tabWidth: 60, // 每个tab的宽度\r\n      barWidth: 30, // tab底部红色线的宽度\r\n      curIndex: 0, // 当前tab的下标\r\n      tabScrollLeft: 0, // 菜单滚动条的位置\r\n      swiperOption: { // 轮播配置\r\n        on: {\r\n          transitionEnd: () => {\r\n            this.changeTab(this.swiper.activeIndex)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    swiper, // 轮播组件\r\n    swiperSlide, // 轮播组件\r\n    MescrollVue // Mescroll组件\r\n  },\r\n  computed: {\r\n    swiper () { // 轮播对象\r\n    console.log(this.$refs.mySwiper.swiper)\r\n      return this.$refs.mySwiper.swiper\r\n    },\r\n    barLeft () { // 红线的位置\r\n      return (this.tabWidth * this.curIndex + (this.tabWidth - this.barWidth) / 2) + 'px'\r\n    }\r\n  },\r\n  methods: {\r\n    // 多mescroll的配置,需通过方法获取,保证每个配置是单例\r\n    getMescrollDown (tabIndex) {\r\n      let isAuto = tabIndex === 0; // 第一个mescroll传入true,列表自动加载\r\n      return {\r\n        auto: isAuto,\r\n        callback: this.downCallback\r\n      }\r\n    },\r\n    // mescroll上拉加载的配置\r\n    getMescrollUp (tabIndex) {\r\n      let emptyWarpId = 'dataList' + tabIndex;\r\n      return {\r\n        auto: false,\r\n        callback: this.upCallback, // 上拉回调,此处可简写; 相当于 callback: function (page) { upCallback(page); }\r\n        noMoreSize: 4, // 如果列表已无数据,可设置列表的总数量要大于半页才显示无更多数据;避免列表数据过少(比如只有一条数据),显示无更多数据会不好看; 默认5\r\n        empty: {\r\n          warpId: emptyWarpId, // 父布局的id;\r\n          icon: 'http://www.mescroll.com/img/mescroll-empty.png', // 图标,默认null\r\n          tip: '暂无相关数据~', // 提示\r\n          btntext: '去逛逛 >', // 按钮,默认\"\"\r\n          btnClick: function () { // 点击按钮的回调,默认null\r\n            alert('点击了按钮,具体逻辑自行实现')\r\n          }\r\n        },\r\n        toTop: { // 配置回到顶部按钮\r\n          src: 'http://www.mescroll.com/img/mescroll-totop.png' // 图片路径,默认null (建议写成网络图,不必考虑相对路径)\r\n        }\r\n      }\r\n    },\r\n    // mescroll初始化的回调\r\n    mescrollInit (tabIndex, arg) {\r\n      this.tabs[tabIndex].mescroll = arg[0]; // 传入mescroll对象\r\n      this.tabs[tabIndex].mescroll.tabIndex = tabIndex; // 加入标记,便于在回调中取到对应的list\r\n    },\r\n    // 切换菜单\r\n    changeTab (tabIndex) {\r\n      if (this.curIndex === tabIndex) return; // 避免重复调用\r\n      let curTab = this.tabs[this.curIndex];// 当前列表\r\n      let newTab = this.tabs[tabIndex];// 新转换的列表\r\n      curTab.mescroll && curTab.mescroll.hideTopBtn(); // 隐藏当前列表的回到顶部按钮\r\n      this.curIndex = tabIndex; // 切换菜单\r\n      this.swiper.slideTo(tabIndex);\r\n      // 菜单项居中动画\r\n      if (curTab.mescroll) {\r\n        let tabsContent = this.$refs.tabsContent;\r\n        let tabDom = tabsContent.getElementsByClassName('tab')[tabIndex];\r\n        let star = tabsContent.scrollLeft;// 当前位置\r\n        let end = tabDom.offsetLeft + tabDom.clientWidth / 2 - document.body.clientWidth / 2; // 居中\r\n        this.tabScrollLeft = end;\r\n        curTab.mescroll.getStep(star, end, function (step) {\r\n          tabsContent.scrollLeft = step; // 从当前位置逐渐移动到中间位置,默认时长300ms\r\n        });\r\n      }\r\n      if (newTab.mescroll) {\r\n        if (!newTab.isListInit) {\r\n          // 加载列表\r\n          newTab.mescroll.triggerDownScroll();\r\n        } else {\r\n          // 检查新转换的列表是否需要显示回到到顶按钮\r\n          setTimeout(() => {\r\n            let curScrollTop = newTab.mescroll.getScrollTop();\r\n            if (curScrollTop >= newTab.mescroll.optUp.toTop.offset) {\r\n              newTab.mescroll.showTopBtn();\r\n            } else {\r\n              newTab.mescroll.hideTopBtn();\r\n            }\r\n          }, 30)\r\n        }\r\n      }\r\n    },\r\n    /* 下拉刷新的回调 */\r\n    downCallback (mescroll) {\r\n      // 这里加载你想下拉刷新的数据, 比如刷新tab1的轮播数据\r\n      if (mescroll.tabIndex === 0) {\r\n        // loadSwiper();\r\n      } else if (mescroll.tabIndex === 1) {\r\n        // ....\r\n      } else if (mescroll.tabIndex === 2) {\r\n        // ....\r\n      }\r\n      mescroll.resetUpScroll();// 触发下拉刷新的回调,加载第一页的数据\r\n    },\r\n    /* 上拉加载的回调 page = {num:1, size:10}; num:当前页 从1开始, size:每页数据条数 */\r\n    upCallback (page, mescroll) {\r\n     // if (mescroll.tabType === 0) {\r\n      //   // 可以单独处理每个tab的请求\r\n      // }else if (mescroll.tabType === 1) {\r\n      //   // 可以单独处理每个tab的请求\r\n      // }\r\n      this.axios.get('http://127.0.0.1:7000/square/hall', {\r\n\t\t\t        params: {\r\n\t\t\t          num: 1, // 页码\r\n\t\t\t          size:10// 每页长度\r\n\t\t\t        }\r\n\t\t\t      }).then((response) => {\r\n                    // 请求的列表数据\r\n                    console.log(response)\r\n\t\t\t        let arr = response.data\r\n\t\t\t        // 如果是第一页需手动置空列表\r\n\t\t\t        if (page.num === 1) this.dataList = []\r\n\t\t\t        // 把请求到的数据添加到列表\r\n\t\t\t        this.dataList = this.dataList.concat(arr)\r\n\t\t\t        // 数据渲染成功后,隐藏下拉刷新的状态\r\n\t\t\t        this.$nextTick(() => {\r\n\t\t\t          mescroll.endSuccess(arr.length)\r\n\t\t\t        })\r\n\t\t\t      }).catch((e) => {\r\n\t\t\t        // 联网失败的回调,隐藏下拉刷新和上拉加载的状态;\r\n\t\t\t        mescroll.endErr()\r\n\t\t\t      })\r\n\t\t\t    \r\n      this.tabs[mescroll.tabIndex].isListInit = true;// 标记列表已初始化,保证列表只初始化一次\r\n    //   this.getListDataFromNet(mescroll.tabIndex, page.num, page.size, (curPageData) => {\r\n    //     mescroll.endSuccess(curPageData.length);// 联网成功的回调,隐藏下拉刷新和上拉加载的状态;\r\n    //     if (page.num === 1) this.tabs[mescroll.tabIndex].list = []; // 如果是第一页需手动制空列表\r\n    //     this.tabs[mescroll.tabIndex].list = this.tabs[mescroll.tabIndex].list.concat(curPageData); // 追加新数据\r\n    //   }, () => {\r\n    //     if (page.num === 1) this.tabs[mescroll.tabIndex].isListInit = false;\r\n    //     mescroll.endErr();// 联网失败的回调,隐藏下拉刷新的状态\r\n    //   })\r\n    },\r\n    /* 联网加载列表数据\r\n          在您的实际项目中,请参考官方写法: http://www.mescroll.com/api.html#tagUpCallback\r\n          请忽略getListDataFromNet的逻辑,这里仅仅是在本地模拟分页数据,本地演示用\r\n          实际项目以您服务器接口返回的数据为准,无需本地处理分页.\r\n          * */\r\n    // getListDataFromNet (tabIndex, pageNum, pageSize, successCallback, errorCallback) {\r\n    //   // 延时一秒,模拟联网\r\n    //   setTimeout(() => {\r\n    //     try {\r\n    //       var listData = []\r\n    //       if (tabIndex === 0) {\r\n    //         // 全部商品 (模拟分页数据)\r\n    //         for (var i = (pageNum - 1) * pageSize; i < pageNum * pageSize; i++) {\r\n    //           if (i === mockData.length) break\r\n    //           listData.push(mockData[i])\r\n    //         }\r\n    //       } else {\r\n    //         // 模拟关键词搜索\r\n    //         var word = this.tabs[tabIndex].name;\r\n    //         for (var k = 0; k < mockData.length; k++) {\r\n    //           if (mockData[k].pdName.indexOf(word) !== -1) {\r\n    //             listData.push(mockData[k])\r\n    //           }\r\n    //         }\r\n    //       }\r\n    //       // 回调\r\n    //       successCallback && successCallback(listData);\r\n    //     } catch (e) {\r\n    //       // 联网失败的回调\r\n    //       errorCallback && errorCallback();\r\n    //     }\r\n    //   }, 1000)\r\n    // }\r\n\r\n  },\r\n  beforeRouteEnter (to, from, next) { // 如果没有配置回到顶部按钮或isBounce,则beforeRouteEnter不用写\r\n    next(vm => {\r\n      let curMescroll = vm.$refs['mescroll' + vm.curIndex]; // 找到当前mescroll的ref,调用子组件mescroll-vue的beforeRouteEnter方法\r\n      curMescroll && curMescroll.beforeRouteEnter() // 进入路由时,滚动到原来的列表位置,恢复回到顶部按钮和isBounce的配置\r\n      // 恢复水平菜单的滚动条位置\r\n      if (vm.$refs.tabsContent) vm.$refs.tabsContent.scrollLeft = vm.tabScrollLeft;\r\n    })\r\n  },\r\n  beforeRouteLeave (to, from, next) { // 如果没有配置回到顶部按钮或isBounce,则beforeRouteLeave不用写\r\n    let curMescroll = this.$refs['mescroll' + this.curIndex]; // 找到当前mescroll的ref,调用子组件mescroll-vue的beforeRouteEnter方法\r\n    curMescroll && curMescroll.beforeRouteLeave() // 退出路由时,记录列表滚动的位置,隐藏回到顶部按钮和isBounce的配置\r\n    next()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    /* 刷新的高度 */\r\n    .swiper-container[data-v-1c7566a6]{\r\n        top:0px;\r\n    }\r\n  /*模拟的标题*/\r\n  .header{\r\n    z-index: 9990;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 44px;\r\n    line-height: 16px;\r\n    text-align: center;\r\n    background-color:transparent;\r\n  }\r\n  .header .header-box{\r\n      display: flex;\r\n      justify-content: space-between;\r\n  }\r\n  .header .moving,.header .search{\r\n      height:43px;\r\n      line-height: 43px;\r\n      padding:0 10px;\r\n  }\r\n  .header .headImg{\r\n      width:18px;\r\n      height: auto;\r\n  }\r\n  /*菜单*/\r\n  .tabs-warp{\r\n    height: 42px;/*高度比tabs-content小, 目的是隐藏tabs的水平滚动条*/\r\n    overflow-y: hidden;\r\n    /* border-bottom: 1px solid #eee; */\r\n    box-sizing: content-box;\r\n    color:#fff;\r\n  }\r\n  .tabs-warp .tabs-content{\r\n    width: 100%;\r\n    height: 50px;\r\n    overflow-x: auto;\r\n  }\r\n  .tabs-warp .tabs-content .tabs{\r\n    width: 100%;\r\n    white-space: nowrap;\r\n  }\r\n  .tabs-warp .tabs-content .tabs li{\r\n    display: inline-block;\r\n    height: 40px;\r\n    line-height: 45px;\r\n    vertical-align: middle;\r\n  }\r\n  .tabs-warp .tabs-content .tabs .active{\r\n    color: #FF6990;\r\n  }\r\n  /*菜单进度*/\r\n  .tabs-warp .tab-bar{\r\n    position: relative;\r\n    height: 2px;\r\n    background-color: #FF6990;\r\n    transition: left 300ms;\r\n  }\r\n  /*列表*/\r\n  .swiper-container{\r\n    position: fixed;\r\n    top: 80px;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n  }\r\n\r\n  /*展示上拉加载的数据列表*/\r\n  .data-li{\r\n    position: relative;\r\n    height: 80px;\r\n    padding: 10px 8px 10px 120px;\r\n    border-bottom: 1px solid #eee;\r\n  }\r\n  .data-li .pd-img{\r\n    position: absolute;\r\n    left: 18px;\r\n    top: 10px;\r\n    width: 80px;\r\n    height: 80px;\r\n  }\r\n  .data-li .pd-name{\r\n    font-size: 13px;\r\n    line-height: 20px;\r\n    height: 40px;\r\n    margin-bottom: 10px;\r\n    overflow: hidden;\r\n  }\r\n  .data-li .pd-price{\r\n    font-size: 13px;\r\n    color: red;\r\n  }\r\n  .data-li .pd-sold{\r\n    font-size: 12px;\r\n    margin-top: 8px;\r\n    color: gray;\r\n  }\r\n    /* 大厅 */\r\n    /* 轮播图 */\r\n  .hall .banner{\r\n    width:100%;\r\n    height:150px;\r\n    }\r\n    .hall .banner img{\r\n        width:100%;\r\n        height:100%;\r\n    }\r\n    .hall .imgList .container{\r\n        width:100%;\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n    }\r\n    .hall .imgList .container .inCon{\r\n    position: absolute;\r\n    width:100%;\r\n    height:100%;\r\n    top:0;\r\n    left:0;\r\n    }\r\n    .hall .imgList .recommend .inCon .reRight{\r\n        width:100%;\r\n        height:50%;\r\n        position: relative;\r\n    }\r\n    .hall .imgList .container .link{\r\n        width:100%;\r\n        height:100%;\r\n        display: block;\r\n        position: absolute;\r\n        padding: 5px;\r\n        overflow: hidden;\r\n    }\r\n    .hall .imgList .recommend a.noPadLeft{\r\n        padding-left:0;\r\n    }\r\n    .hall .imgList .recommend .reLeftBox{\r\n        width:60%;\r\n        padding-top:60%;\r\n        position: relative;\r\n    }\r\n    .hall .imgList .recommend .reRightBox{\r\n        width:40%;\r\n        position: relative;\r\n    }\r\n    .hall .imgList img{\r\n        width:100%;\r\n        height:auto;\r\n        \r\n    }\r\n    .hall .imgList .container .perInfo{\r\n        position: absolute;\r\n        bottom:0;\r\n        display: flex;\r\n        font-size: 12px;\r\n        color:#fff;\r\n        justify-content: space-between;\r\n        width:100%;\r\n        padding:0px 5px 0px 5px;\r\n        align-items: center;\r\n    }\r\n    .hall .imgList .recommend .reRightBox .perInfo{\r\n        padding-right:15px;\r\n    }\r\n    .hall .imgList .container .perInfo .achievement{\r\n        width:15%;\r\n        display:flex;\r\n    }\r\n    .hall .imgList .container .perInfo .achievement img{\r\n        height:14px;\r\n        width:auto;\r\n        vertical-align: middle;\r\n    }.hall .imgList .container .perInfo .achievement img:first-child{\r\n        margin-right:2px;\r\n    }\r\n    .hall .imgList .container .perInfo .watchNum img{\r\n        height:12px;\r\n        width:auto;\r\n        vertical-align: middle;\r\n    }\r\n    .hall .imgList .container .perInfo .watchNum{\r\n        width:25%;\r\n        display:flex;\r\n        align-items: center;\r\n    }\r\n    .hall .imgList .container .perInfo .sign{\r\n        color:#fff;\r\n        margin:0;\r\n        width:60%;\r\n        padding-left:10px;\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        font-size: 12px;\r\n    }\r\n    .hall .imgList .recommend .imgbox{\r\n        height:50%;\r\n        overflow: hidden;\r\n        position: relative;\r\n    }\r\n    .hall .imgList .floor .listItem{\r\n        width:50%;\r\n        padding-top:50%;\r\n        position: relative;\r\n    }\r\n    .hall .imgList .floor .container .listItem:nth-of-type(2n+1) .link{\r\n        padding-right: 2.5px;\r\n    }\r\n    .hall .imgList .floor .container .listItem:nth-of-type(2n) .link{\r\n        padding-left: 2.5px;\r\n    }\r\n    .hall .floor .sort{\r\n        padding:15px 0 10px 5px;\r\n    }\r\n    .hall .floor .sort img{\r\n        width:auto;\r\n        height:14px;\r\n        margin-right:8px;\r\n        position: relative;\r\n        top:1px;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src/components"}]}