{"remainingRequest":"C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\src\\components\\delPhoto.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\src\\components\\delPhoto.vue","mtime":1569749506546},{"path":"C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1564486950657},{"path":"C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\babel-loader\\lib\\index.js","mtime":1564486949725},{"path":"C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1564486950657},{"path":"C:\\xampp\\htdocs\\xiuse_jie\\vue_cil\\node_modules\\vue-loader\\lib\\index.js","mtime":1564486976739}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n    name:\"delPhoto\",\r\n    data(){\r\n        return{\r\n            srcList:[],//保存照片地址和id\r\n            curIndex:\"\",//当前的swiper的下标\r\n            navTop:true,//navbar\r\n            navBot:true//navbar\r\n        }\r\n    },\r\n    methods:{\r\n        handleChange(index){//切换轮播时触发\r\n            // index为切换后的下标\r\n            this.curIndex=index\r\n        },\r\n        onClickLeft(){//头部返回事件\r\n            this.$router.push({path:'/me'})\r\n        },\r\n        delPhoto(){//发送ajax删除当前的照片\r\n            var id=this.srcList[this.curIndex].id//获取当前图片的id\r\n            // console.log(id)\r\n            this.axios.get(\"http://127.0.0.1:7000/me/delPhoto\",{\r\n                params:{\r\n                    id:id,\r\n                    uid:this.$store.getters.getUid\r\n                }\r\n            }).then(res=>{\r\n              \r\n                // console.log(res)\r\n                //刷新照片\r\n                this.getPhotoList()\r\n                this.navTop=true\r\n                this.navBot=true\r\n            })\r\n        },\r\n        getPhotoList(){//发送ajax获取图片列表\r\n            this.axios.get(\"http://127.0.0.1:7000/me/down\").then(res=>{\r\n                // console.log(res)\r\n                this.srcList=res.data\r\n            })\r\n        },\r\n        sigPicDown(){//下载当前的图片\r\n            var a=document.createElement(\"a\")//创建a元素\r\n            var src=this.srcList[this.curIndex].img_src//当前图片地址\r\n            var arr=src.split(\"/\")\r\n            var picName=arr[arr.length-1] //截取图片名称\r\n            a.href=src//链接到图片地址\r\n            a.download=picName//利用download属性下载图片picname为图片新名称\r\n            a.click()\r\n        },\r\n        changeNavbar(){//显示和隐藏navbar\r\n            this.navTop=!this.navTop\r\n            this.navBot=!this.navBot\r\n        }\r\n    },\r\n    mounted(){\r\n        //获取me组件传递过来的地址和默认下标\r\n        this.srcList=this.$route.query.srcList\r\n        this.curIndex=this.$route.query.defaultIndex\r\n    }\r\n}\r\n",{"version":3,"sources":["delPhoto.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"delPhoto.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"delPhoto\" @click=\"changeNavbar\">\r\n        <div class=\"header\" v-show=\"navTop\">\r\n            <van-nav-bar title=\"标题\" left-arrow @click-left=\"onClickLeft\">\r\n                <span slot=\"title\">{{curIndex+1}}/{{srcList.length}}</span>\r\n                </van-nav-bar>\r\n        </div>\r\n        <div class=\"banner\">\r\n            <mt-swipe :auto=\"0\" @change=\"handleChange\" :show-indicators=\"false\" :default-index=\"$route.query.defaultIndex\">\r\n                <mt-swipe-item v-for=\"(item,index) in srcList\" :key=\"index\"><img :src=\"item.img_src\" alt=\"\" :style=\"{width:$store.state.width_s+'px'}\"></mt-swipe-item>\r\n            </mt-swipe>\r\n        </div>\r\n        <div class=\"bottom\" v-show=\"navBot\">\r\n            <ul class=\"icon_list\">\r\n                <li><img src=\"//127.0.0.1:7000/img/guanzhu.png\" alt=\"\"></li>\r\n                <li><img src=\"//127.0.0.1:7000/img/liaotian.png\" alt=\"\"></li>\r\n                <li><img src=\"//127.0.0.1:7000/img/xiazai.png\" alt=\"\" @click=\"sigPicDown\"></li>\r\n                <li><img src=\"//127.0.0.1:7000/img/fenxiang-.png\" alt=\"\"></li>\r\n                <li><img src=\"//127.0.0.1:7000/img/iconfontshanchu1.png\" alt=\"\" @click=\"delPhoto\"></li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name:\"delPhoto\",\r\n    data(){\r\n        return{\r\n            srcList:[],//保存照片地址和id\r\n            curIndex:\"\",//当前的swiper的下标\r\n            navTop:true,//navbar\r\n            navBot:true//navbar\r\n        }\r\n    },\r\n    methods:{\r\n        handleChange(index){//切换轮播时触发\r\n            // index为切换后的下标\r\n            this.curIndex=index\r\n        },\r\n        onClickLeft(){//头部返回事件\r\n            this.$router.push({path:'/me'})\r\n        },\r\n        delPhoto(){//发送ajax删除当前的照片\r\n            var id=this.srcList[this.curIndex].id//获取当前图片的id\r\n            // console.log(id)\r\n            this.axios.get(\"http://127.0.0.1:7000/me/delPhoto\",{\r\n                params:{\r\n                    id:id,\r\n                    uid:this.$store.getters.getUid\r\n                }\r\n            }).then(res=>{\r\n              \r\n                // console.log(res)\r\n                //刷新照片\r\n                this.getPhotoList()\r\n                this.navTop=true\r\n                this.navBot=true\r\n            })\r\n        },\r\n        getPhotoList(){//发送ajax获取图片列表\r\n            this.axios.get(\"http://127.0.0.1:7000/me/down\").then(res=>{\r\n                // console.log(res)\r\n                this.srcList=res.data\r\n            })\r\n        },\r\n        sigPicDown(){//下载当前的图片\r\n            var a=document.createElement(\"a\")//创建a元素\r\n            var src=this.srcList[this.curIndex].img_src//当前图片地址\r\n            var arr=src.split(\"/\")\r\n            var picName=arr[arr.length-1] //截取图片名称\r\n            a.href=src//链接到图片地址\r\n            a.download=picName//利用download属性下载图片picname为图片新名称\r\n            a.click()\r\n        },\r\n        changeNavbar(){//显示和隐藏navbar\r\n            this.navTop=!this.navTop\r\n            this.navBot=!this.navBot\r\n        }\r\n    },\r\n    mounted(){\r\n        //获取me组件传递过来的地址和默认下标\r\n        this.srcList=this.$route.query.srcList\r\n        this.curIndex=this.$route.query.defaultIndex\r\n    }\r\n}\r\n</script>\r\n<style>\r\n.delPhoto{\r\n    width:100%;\r\n    height:100%;\r\n    position: relative;\r\n    background:black;\r\n}\r\n.delPhoto .banner{\r\n    width:100%;\r\n    height:60%;\r\n    /* background: red; */\r\n    position: absolute;\r\n    top:50%;\r\n    transform: translateY(-50%);\r\n    overflow: hidden;\r\n}\r\n.delPhoto .banner img{\r\n    height:100%;\r\n}\r\n.delPhoto .header .van-nav-bar .van-icon{\r\n    color:red;\r\n    height:36px;\r\n}\r\n.delPhoto .header .van-nav-bar__arrow{\r\n    font-size: 24px;\r\n}\r\n.delPhoto .bottom .icon_list{\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    padding:10px 0 10px 0;\r\n}\r\n.delPhoto .bottom{\r\n    background:linear-gradient(to top,#1D2124,#121619);\r\n    position: absolute;\r\n    z-index: 2;\r\n    bottom:0;\r\n    left:0;\r\n    right:0;\r\n}\r\n.delPhoto .bottom img{\r\n    width:25px;\r\n    height:25px;\r\n}\r\n</style>\r\n\r\n\r\n"]}]}